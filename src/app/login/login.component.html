<div class="logo-containter text-center">
  <div class="d-inline-block">
    <span>
      <img height="30" src="/assets/logo.svg" alt="ALIVIUS Logo" />
    </span>
  </div>
</div>

<p class="sub-title">{{ 'loginMsg' | translate }}</p>

<form (ngSubmit)="login(form)" #form="ngForm" aria-labelledby="title">
  <div class="form-control-group">
    <label class="label" for="input-email">{{
      'usernameLbl' | translate
    }}</label>
    <input
      nbInput
      fullWidth
      [(ngModel)]="user.username"
      #email="ngModel"
      name="email"
      id="input-email"
      [placeholder]="'usernameLbl' | translate"
      autofocus
      [status]="email.dirty ? (email.invalid ? 'danger' : 'success') : 'basic'"
      [required]="true"
      [attr.aria-invalid]="email.invalid && email.touched ? true : null"
    />
  </div>

  <div class="form-control-group">
    <span class="label-with-link">
      <label class="label" for="input-password">{{
        'passwordLbl' | translate
      }}</label>
      <a
        [routerLink]="['/forgot-password']"
        class="forgot-password caption-2"
        >{{ 'forgotPasswordLink' | translate }}</a
      >
    </span>
    <input
      nbInput
      fullWidth
      [(ngModel)]="user.password"
      #password="ngModel"
      name="password"
      type="password"
      id="input-password"
      [placeholder]="'passwordLbl' | translate"
      [status]="
        password.dirty ? (password.invalid ? 'danger' : 'success') : 'basic'
      "
      [required]="true"
      [minlength]="8"
      [maxlength]="20"
      [attr.aria-invalid]="password.invalid && password.touched ? true : null"
    />
  </div>

  <div class="form-control-group">
    <nb-checkbox
      status="basic"
      (checkedChange)="rememberMeHandler($event)"
      [checked]="rememberMe"
      >{{ 'rememberMeLbl' | translate }}</nb-checkbox
    >
  </div>

  <button
    nbButton
    fullWidth
    status="primary"
    [disabled]="(!form.valid && form.touched) || loading"
    [nbSpinner]="loading"
    nbSpinnerStatus="info"
    nbSpinnerSize="small"
    class="login-button"
  >
    {{ 'loginLbl' | translate }}
  </button>
</form>

<section class="another-action" aria-label="Register">
  {{ 'dontHaveAnAccount' | translate }}
  <a class="text-link" routerLink="../register">
    {{ 'signupNow' | translate }}
  </a>
</section>
